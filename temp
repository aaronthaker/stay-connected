def calculate_arbitrage(bookmaker_odds, bookmaker_stake, exchange_odds, exchange_liquidity, commission):
    """
    Calculate the optimal stake on the exchange to secure an arbitrage profit.
    
    :param bookmaker_odds: The odds available at the bookmaker for backing the bet.
    :param bookmaker_stake: The amount you plan to stake at the bookmaker.
    :param exchange_odds: The lay odds available at the betting exchange.
    :param exchange_liquidity: The maximum amount that can be matched on the exchange.
    :param commission: The exchange commission percentage (e.g., 2% -> input 2).
    :return: Recommended lay stake, net profit, and risk analysis.
    """

    # Calculate potential payout from bookmaker
    bookmaker_payout = bookmaker_stake * bookmaker_odds

    # Calculate lay stake required to cover payout
    lay_stake = bookmaker_payout / exchange_odds

    # Adjust lay stake for commission
    commission_multiplier = (1 - (commission / 100))
    adjusted_lay_stake = lay_stake / commission_multiplier

    # Ensure lay stake does not exceed exchange liquidity
    if adjusted_lay_stake > exchange_liquidity:
        print("Warning: Lay stake exceeds exchange liquidity. Adjusting to available amount.")
        adjusted_lay_stake = exchange_liquidity

    # Calculate total risk
    lay_liability = adjusted_lay_stake * (exchange_odds - 1)

    # Calculate profit in each scenario
    profit_if_win = bookmaker_payout - bookmaker_stake - lay_liability
    profit_if_lose = adjusted_lay_stake * commission_multiplier - bookmaker_stake

    # Determine net profit
    guaranteed_profit = min(profit_if_win, profit_if_lose)

    # Print Results
    print("\n--- Arbitrage Betting Breakdown ---")
    print(f"âœ… Bookmaker Stake: ${bookmaker_stake:.2f} at {bookmaker_odds:.2f} odds")
    print(f"âœ… Exchange Lay Stake: ${adjusted_lay_stake:.2f} at {exchange_odds:.2f} odds")
    print(f"ðŸ“‰ Lay Liability: ${lay_liability:.2f}")
    print(f"ðŸ’° Profit if Bet Wins: ${profit_if_win:.2f}")
    print(f"ðŸ’° Profit if Bet Loses: ${profit_if_lose:.2f}")
    
    if guaranteed_profit > 0:
        print(f"ðŸŽ¯ Guaranteed Arbitrage Profit: ${guaranteed_profit:.2f}")
    else:
        print("âš  No guaranteed profit available.")

# Example input values
bookmaker_odds = float(input("Enter bookmaker odds: "))
bookmaker_stake = float(input("Enter bookmaker stake ($): "))
exchange_odds = float(input("Enter exchange lay odds: "))
exchange_liquidity = float(input("Enter available exchange liquidity ($): "))
commission = float(input("Enter exchange commission percentage (e.g., 2 for 2%): "))

calculate_arbitrage(bookmaker_odds, bookmaker_stake, exchange_odds, exchange_liquidity, commission)